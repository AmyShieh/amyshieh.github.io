"use strict";(self.webpackChunkmy_docusaurus_blog=self.webpackChunkmy_docusaurus_blog||[]).push([[3219],{15680:(e,n,r)=>{r.d(n,{xA:()=>p,yg:()=>y});var t=r(96540);function o(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function l(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function a(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){o(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function s(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},l=Object.keys(e);for(t=0;t<l.length;t++)r=l[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)r=l[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=t.createContext({}),u=function(e){var n=t.useContext(i),r=n;return e&&(r="function"==typeof e?e(n):a(a({},n),e)),r},p=function(e){var n=u(e.components);return t.createElement(i.Provider,{value:n},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},d=t.forwardRef((function(e,n){var r=e.components,o=e.mdxType,l=e.originalType,i=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=u(r),d=o,y=m["".concat(i,".").concat(d)]||m[d]||c[d]||l;return r?t.createElement(y,a(a({ref:n},p),{},{components:r})):t.createElement(y,a({ref:n},p))}));function y(e,n){var r=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var l=r.length,a=new Array(l);a[0]=d;var s={};for(var i in n)hasOwnProperty.call(n,i)&&(s[i]=n[i]);s.originalType=e,s[m]="string"==typeof e?e:o,a[1]=s;for(var u=2;u<l;u++)a[u]=r[u];return t.createElement.apply(null,a)}return t.createElement.apply(null,r)}d.displayName="MDXCreateElement"},27684:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>i,contentTitle:()=>a,default:()=>c,frontMatter:()=>l,metadata:()=>s,toc:()=>u});var t=r(58168),o=(r(96540),r(15680));const l={},a="\u6253\u5305",s={unversionedId:"project/build",id:"project/build",title:"\u6253\u5305",description:"\u524d\u8a00",source:"@site/docs/project/build.md",sourceDirName:"project",slug:"/project/build",permalink:"/docs/project/build",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"DDD",permalink:"/docs/project/DDD"},next:{title:"\u67b6\u6784",permalink:"/docs/project/construct"}},i={},u=[{value:"\u524d\u8a00",id:"\u524d\u8a00",level:2},{value:"ES module format",id:"es-module-format",level:3},{value:"commonjs module format",id:"commonjs-module-format",level:3},{value:"commonjs versus ES module",id:"commonjs-versus-es-module",level:3},{value:"usage",id:"usage",level:4},{value:"flexibility",id:"flexibility",level:4},{value:"synchronous &amp; asynchronous",id:"synchronous--asynchronous",level:4},{value:"Turbopack",id:"turbopack",level:2},{value:"webpack",id:"webpack",level:2},{value:"rollup",id:"rollup",level:2},{value:"parceljs",id:"parceljs",level:2},{value:"versus",id:"versus",level:2}],p={toc:u},m="wrapper";function c(e){let{components:n,...r}=e;return(0,o.yg)(m,(0,t.A)({},p,r,{components:n,mdxType:"MDXLayout"}),(0,o.yg)("h1",{id:"\u6253\u5305"},"\u6253\u5305"),(0,o.yg)("h2",{id:"\u524d\u8a00"},"\u524d\u8a00"),(0,o.yg)("p",null,"\u5728\u8bf4\u6253\u5305\u524d\uff0c\u6709\u4e00\u4e9b\u57fa\u7840\u6982\u5ff5\u6211\u4eec\u9700\u8981\u641e\u6e05\u695a\u3002"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},"commonjs vs ES modules"),(0,o.yg)("li",{parentName:"ol"},"babel")),(0,o.yg)("h3",{id:"es-module-format"},"ES module format"),(0,o.yg)("p",null,"Official standard format to package js code for a reuse.\nmost modern browsers natively support the modules."),(0,o.yg)("p",null,"load: import\nexport: export"),(0,o.yg)("h3",{id:"commonjs-module-format"},"commonjs module format"),(0,o.yg)("p",null,"Nodejs, support the cjs format by default. v13.2.0 has stable support for ES module."),(0,o.yg)("p",null,"load: require\nexport: module.exports"),(0,o.yg)("h3",{id:"commonjs-versus-es-module"},"commonjs versus ES module"),(0,o.yg)("h4",{id:"usage"},"usage"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js",metastring:'title="util.js"',title:'"util.js"'},"module.exports.hello = function (name) {\n    return `hello ${name}`;\n};\n")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js",metastring:'title="usage.js"',title:'"usage.js"'},"const { hello } = require('./utils');\nconsolel.log(hello('aliveAmy'));\n")),(0,o.yg)("admonition",{title:"how to enable ES modules in Node.js package?",type:"info"},(0,o.yg)("ol",{parentName:"admonition"},(0,o.yg)("li",{parentName:"ol"},"just change the file extension from ",(0,o.yg)("inlineCode",{parentName:"li"},".js")," to ",(0,o.yg)("inlineCode",{parentName:"li"},".mjs"))),(0,o.yg)("p",{parentName:"admonition"},"or"),(0,o.yg)("ol",{parentName:"admonition",start:2},(0,o.yg)("li",{parentName:"ol"},"set package.json's module field")),(0,o.yg)("p",{parentName:"admonition"},"or"),(0,o.yg)("ol",{parentName:"admonition",start:3},(0,o.yg)("li",{parentName:"ol"},"babel: compile ES module syntax down to commonJS syntax\n:::")),(0,o.yg)("pre",{parentName:"admonition"},(0,o.yg)("code",{parentName:"pre",className:"language-js",metastring:'title="util.mjs"',title:'"util.mjs"'},"module.exports.hello = function (name) {\n    return `hello ${name}`;\n};\n")),(0,o.yg)("pre",{parentName:"admonition"},(0,o.yg)("code",{parentName:"pre",className:"language-js",metastring:'title="usage.mjs"',title:'"usage.mjs"'},"import { hello } from './utils.mjs';\nconsolel.log(hello('aliveAmy'));\n"))),(0,o.yg)("p",null,"require() get returns from module.exports.\nexports.XXX doesn't return by require().\n:::"),(0,o.yg)("p",null,"or"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-json"},'{\n    "name": "alive-amy",\n    "type": "module"\n}\n')),(0,o.yg)("h4",{id:"flexibility"},"flexibility"),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"import")," can only be written in the beginning of the file\n",(0,o.yg)("inlineCode",{parentName:"p"},"require")," can be called anywhere in the code."),(0,o.yg)("h4",{id:"synchronous--asynchronous"},"synchronous & asynchronous"),(0,o.yg)("p",null,"commonJS: synchronous\nES module: asynchronous"),(0,o.yg)("h2",{id:"turbopack"},"Turbopack"),(0,o.yg)("h2",{id:"webpack"},"webpack"),(0,o.yg)("h2",{id:"rollup"},"rollup"),(0,o.yg)("h2",{id:"parceljs"},"parceljs"),(0,o.yg)("p",null,(0,o.yg)("a",{parentName:"p",href:"https://parceljs.org/getting-started/webapp/"},"parceljs-webApp")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-shell"},"  yarn add --dev parcel\n")),(0,o.yg)("h2",{id:"versus"},"versus"))}c.isMDXComponent=!0}}]);